import { Channel } from './channel';
import { ChatKittyError } from './error';
import { ChatKittyFile, ChatKittyUploadProgressListener, CreateChatKittyFileProperties } from './file';
import { ChatKittyPaginator } from './pagination';
import { ReactionSummary } from './reaction';
import { ChatKittyFailedResult, ChatKittySucceededResult } from './result';
import { Thread } from './thread';
import { User } from './user';
export declare type Message = SystemMessage | UserMessage;
export declare type SystemMessage = TextSystemMessage | FileSystemMessage;
export declare type UserMessage = TextUserMessage | FileUserMessage;
export declare type TextMessage = TextSystemMessage | TextUserMessage;
export declare type FileMessage = FileSystemMessage | FileUserMessage;
export interface BaseMessage {
    id: number;
    type: string;
    channelId: number;
    createdTime: string;
    groupTag?: string;
    reactions?: ReactionSummary[];
    repliesCount?: number;
    properties: unknown;
    /** @internal */
    _relays: MessageRelays;
    /** @internal */
    _actions: MessageActions;
    /** @internal */
    _streams: MessageStreams;
}
export declare type BaseTextMessage = BaseMessage & {
    body: string;
    links: MessageLink[];
    mentions?: MessageMention[];
};
export declare type BaseFileMessage = BaseMessage & {
    file: ChatKittyFile;
};
export declare type BaseUserMessage = BaseMessage & {
    user: User;
};
export declare type TextSystemMessage = BaseTextMessage & {
    type: 'SYSTEM_TEXT';
};
export declare type FileSystemMessage = BaseFileMessage & {
    type: 'SYSTEM_FILE';
};
export declare type TextUserMessage = BaseTextMessage & BaseUserMessage & {
    type: 'TEXT';
};
export declare type FileUserMessage = BaseFileMessage & BaseUserMessage & {
    type: 'FILE';
};
export declare class MessageLink {
    source: string;
    startPosition: number;
    endPosition: number;
    preview?: MessageLinkPreview;
}
export declare class MessageLinkPreview {
    url: string;
    title: string;
    image: MessageLinkPreviewImage;
    description?: string;
    siteName?: string;
}
export declare class MessageLinkPreviewImage {
    source: string;
}
export declare type MessageMention = ChannelMessageMention | UserMessageMention;
export interface BaseMessageMention {
    type: string;
    tag: string;
    startPosition: number;
    endPosition: number;
}
export declare type ChannelMessageMention = BaseMessageMention & {
    channel: Channel;
};
export declare type UserMessageMention = BaseMessageMention & {
    user: User;
};
declare class MessageRelays {
    self: string;
    channel: string;
    parent?: string;
    readReceipts: string;
    repliesCount: string;
    replies: string;
    reactions: string;
}
declare class MessageActions {
    read: string;
    reply: string;
    deleteForMe: string;
    delete: string;
    react: string;
    edit: string;
    removeReaction: string;
}
declare class MessageStreams {
    replies: string;
}
export declare function isTextMessage(message: Message): message is TextMessage;
export declare function isFileMessage(message: Message): message is FileMessage;
export declare function isUserMessage(message: Message): message is UserMessage;
export declare function isSystemMessage(message: Message): message is SystemMessage;
export declare type ListMessagesRequest = ListUsersMessagesRequest | ListChannelMessagesRequest | ListMessageRepliesRequest;
export declare class ListUsersMessagesRequest {
    filter?: ListUsersMessagesFilter;
}
export declare class ListChannelMessagesRequest {
    channel: Channel;
    filter?: ListChannelMessagesFilter;
}
export declare class ListMessageRepliesRequest {
    message: Message;
}
export declare class ListUsersMessagesFilter {
    type: 'FILE' | undefined;
}
export declare class ListChannelMessagesFilter {
    mainThread: boolean;
    type: 'FILE' | undefined;
}
export declare class RetrieveLastReadMessageRequest {
    channel: Channel;
    username: string;
}
export declare type ListMessagesResult = ListMessagesSucceededResult | ChatKittyFailedResult;
export declare class ListMessagesSucceededResult extends ChatKittySucceededResult {
    paginator: ChatKittyPaginator<Message>;
    constructor(paginator: ChatKittyPaginator<Message>);
}
export declare type RetrieveLastReadMessageResult = RetrieveLastReadMessageSucceededResult | ChatKittyFailedResult;
export declare class RetrieveLastReadMessageSucceededResult extends ChatKittySucceededResult {
    message?: Message | undefined;
    constructor(message?: Message | undefined);
}
export declare class ReadMessageRequest {
    message: Message;
}
export declare type ReadMessageResult = ReadMessageSucceededResult | ChatKittyFailedResult;
export declare class ReadMessageSucceededResult extends ChatKittySucceededResult {
    message: Message;
    constructor(message: Message);
}
export declare class EditMessageRequest {
    message: Message;
    body: string;
}
export declare type EditMessageResult = EditedMessageSucceededResult | ChatKittyFailedResult;
export declare class EditedMessageSucceededResult extends ChatKittySucceededResult {
    message: Message;
    constructor(message: Message);
}
export declare class DeleteMessageRequest {
    message: Message;
}
export declare type DeleteMessageResult = DeleteMessageSucceededResult | ChatKittyFailedResult;
export declare class DeleteMessageSucceededResult extends ChatKittySucceededResult {
    message: Message;
    constructor(message: Message);
}
export declare type SendMessageRequest = SendTextMessageRequest | SendFileMessageRequest;
export declare type SendChannelMessageRequest = {
    channel: Channel;
};
export declare type SendMessageReplyRequest = {
    message: Message;
};
export declare type SendThreadMessageRequest = {
    thread: Thread;
};
export declare type SendTextMessageRequest = (SendChannelMessageRequest | SendMessageReplyRequest | SendThreadMessageRequest) & {
    body: string;
    groupTag?: string;
    properties?: unknown;
};
export declare type SendFileMessageRequest = (SendChannelMessageRequest | SendMessageReplyRequest | SendThreadMessageRequest) & {
    file: CreateChatKittyFileProperties;
    groupTag?: string;
    properties?: unknown;
    progressListener?: ChatKittyUploadProgressListener;
};
export declare type SendMessageResult = SentMessageResult | ChatKittyFailedResult;
export declare type SentMessageResult = SentTextMessageResult | SentFileMessageResult;
export declare class SentTextMessageResult extends ChatKittySucceededResult {
    message: TextUserMessage;
    constructor(message: TextUserMessage);
}
export declare class SentFileMessageResult extends ChatKittySucceededResult {
    message: FileUserMessage;
    constructor(message: FileUserMessage);
}
export declare function sentTextMessage(result: SentMessageResult): result is SentTextMessageResult;
export declare function sentFileMessage(result: SentMessageResult): result is SentFileMessageResult;
export declare class CountUnreadMessagesRequest {
    channel: Channel;
}
export declare class CountMessageRepliesRequest {
    message: Message;
}
export declare class RetrieveMessageChannelRequest {
    message: Message;
}
export declare type RetrieveMessageChannelResult = RetrieveMessageChannelSucceededResult | ChatKittyFailedResult;
export declare class RetrieveMessageChannelSucceededResult extends ChatKittySucceededResult {
    channel: Channel;
    constructor(channel: Channel);
}
export declare class RetrieveMessageParentRequest {
    message: Message;
}
export declare type RetrieveMessageParentResult = RetrieveMessageParentSucceededResult | ChatKittyFailedResult;
export declare class RetrieveMessageParentSucceededResult extends ChatKittySucceededResult {
    message: Message;
    constructor(message: Message);
}
export declare class MessageNotAReplyError extends ChatKittyError {
    messageModel: Message;
    constructor(messageModel: Message);
}
export {};
